<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Perfil de Usuario</title>
  <link href="https://fonts.googleapis.com/css2?family=Nunito:wght@300;700&display=swap" rel="stylesheet">
  <style>
    body {
      margin: 0;
      font-family: 'Nunito', sans-serif;
      background-color: #ffe9f0;
      color: #000;
      padding: 1rem;
    }
    .profile-container {
      display: flex;
      flex-direction: column;
      align-items: center;
      margin-bottom: 2rem;
    }
    .avatar {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      object-fit: cover;
      border: 3px solid #fff;
      position: relative;
    }
    .upload-btn {
      position: absolute;
      bottom: 0;
      right: 0;
      background: #d65d84;
      border: none;
      color: white;
      border-radius: 50%;
      width: 30px;
      height: 30px;
      font-size: 20px;
      cursor: pointer;
    }
    .name {
      font-size: 2rem;
      font-weight: bold;
      margin-top: 1rem;
    }
    .username, .pronouns {
      color: #333;
    }
    .post {
      background-color: #fff;
      padding: 1rem;
      border-radius: 1rem;
      margin-bottom: 1.5rem;
    }
    .post img, .post video {
      width: 100%;
      border-radius: 0.5rem;
      margin-top: 1rem;
    }
    .comment-section {
      margin-top: 1rem;
    }
    .comment {
      font-size: 0.9rem;
      border-top: 1px solid #ccc;
      padding: 0.5rem 0;
    }
    .comment-input {
      width: 100%;
      padding: 0.5rem;
      border-radius: 0.5rem;
      border: 1px solid #ccc;
      margin-top: 0.5rem;
    }
    .new-post-container {
      display: flex;
      flex-direction: row;
      gap: 1rem;
      margin-bottom: 2rem;
      align-items: start;
    }
    .text-area {
      flex-grow: 1;
      height: 100px;
      padding: 0.5rem;
      border: 1px solid #ccc;
      border-radius: 0.5rem;
    }
    .media-upload {
      display: flex;
      flex-direction: column;
      gap: 0.5rem;
    }
    .media-upload input {
      display: none;
    }
    .media-upload label {
      background: #d65d84;
      color: white;
      padding: 0.5rem 1rem;
      border-radius: 0.5rem;
      text-align: center;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <div class="profile-container">
    <div style="position: relative;">
      <img src="https://via.placeholder.com/150" alt="Foto de perfil" class="avatar" id="user-photo">
      <button class="upload-btn" title="Nueva publicaciÃ³n" onclick="scrollToPostForm()">+</button>
    </div>
    <div class="name" id="user-name">Nombre Apellido</div>
    <div class="username" id="user-username">@usuario</div>
    <div class="pronouns" id="user-pronouns">Ã©l/ella/elle</div>
  </div>

  <div class="new-post-container" id="post-form">
    <textarea id="post-text" class="text-area" placeholder="Â¿QuÃ© estÃ¡s pensando?"></textarea>
    <div class="media-upload">
      <label for="image-input">ðŸ“· Imagen</label>
      <input type="file" id="image-input" accept="image/*">
      <label for="video-input">ðŸŽ¥ Video</label>
      <input type="file" id="video-input" accept="video/*">
    </div>
  </div>

  <div id="posts-container">
    <!-- Publicaciones generadas dinÃ¡micamente -->
  </div>

  <script>
    const profile = {
      name: "Maca",
      username: "@macc44_",
      pronouns: "she/her",
      photo: "https://via.placeholder.com/150",
      posts: []
    };

    function scrollToPostForm() {
      document.getElementById("post-form").scrollIntoView({ behavior: "smooth" });
    }

    document.getElementById('user-photo').src = profile.photo;
    document.getElementById('user-name').textContent = profile.name;
    document.getElementById('user-username').textContent = profile.username;
    document.getElementById('user-pronouns').textContent = profile.pronouns;

    const container = document.getElementById('posts-container');

    function renderPosts() {
      container.innerHTML = '';
      profile.posts.forEach((post, index) => {
        const postDiv = document.createElement('div');
        postDiv.className = 'post';

        if (post.type === 'text') {
          postDiv.innerHTML = `<p>${post.content}</p>`;
        } else if (post.type === 'image') {
          postDiv.innerHTML = `<img src="${post.content}" alt="Imagen">`;
        } else if (post.type === 'video') {
          postDiv.innerHTML = `
            <video controls>
              <source src="${post.content}" type="video/mp4">
              Tu navegador no soporta videos.
            </video>`;
        }

        const commentsDiv = document.createElement('div');
        commentsDiv.className = 'comment-section';
        (post.comments || []).forEach(c => {
          const p = document.createElement('p');
          p.className = 'comment';
          p.textContent = `- ${c}`;
          commentsDiv.appendChild(p);
        });

        const input = document.createElement('input');
        input.className = 'comment-input';
        input.placeholder = 'Agregar comentario...';
        input.addEventListener('keydown', e => {
          if (e.key === 'Enter' && input.value.trim()) {
            post.comments = post.comments || [];
            post.comments.push(input.value);
            renderPosts();
          }
        });

        commentsDiv.appendChild(input);
        postDiv.appendChild(commentsDiv);
        container.appendChild(postDiv);
      });
    }

    document.getElementById('image-input').addEventListener('change', function () {
      const file = this.files[0];
      const url = URL.createObjectURL(file);
      profile.posts.unshift({ type: 'image', content: url, comments: [] });
      renderPosts();
    });

    document.getElementById('video-input').addEventListener('change', function () {
      const file = this.files[0];
      const url = URL.createObjectURL(file);
      profile.posts.unshift({ type: 'video', content: url, comments: [] });
      renderPosts();
    });

    document.getElementById('post-text').addEventListener('keydown', function (e) {
      if (e.key === 'Enter' && !e.shiftKey && this.value.trim()) {
        e.preventDefault();
        profile.posts.unshift({ type: 'text', content: this.value.trim(), comments: [] });
        this.value = '';
        renderPosts();
      }
    });

    renderPosts();
  </script>
</body>
</html>
